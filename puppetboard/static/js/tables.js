// Generated by CoffeeScript 1.4.0
(function() {
  var $;

  $ = jQuery;

  $(function() {});

  if ($('th.default-sort').data()) {
    $('table.sortable').tablesort().data('tablesort').sort($("th.default-sort"), "desc");
  }

  $('thead th.date').data('sortBy', function(th, td, tablesort) {
    var tdTime = new Date(td.text().replace("-", ""));
    if(isNaN(tdTime)) return 0;
    else return tdTime;
  });

    $('thead th.IP Address').data('myIpArray', myIpArray) // save IP adresses from th. IP Addresses (unsure about the name) in myIpArray
  myIpArray.sort(function(a,b){ // sort array in myIpArray
    aa = getIP(a).split(".");
    bb = getIP(b).split(".");
  
    for (var i=0, n=Math.max(aa.length, bb.length); i<n; i++) {
        if (aa[i] !== bb[i]) return aa[i] - bb[i];
    }
    return 0;
  });
  
  $('input.filter-table').parent('div').removeClass('hide');

  $("input.filter-table").on("keyup", function(e) {
    var ev, rex;
    rex = new RegExp($(this).val(), "i");
    $(".searchable tr").hide();
    $(".searchable tr").filter(function() {
      return rex.test($(this).text());
    }).show();
    if (e.keyCode === 27) {
      $(e.currentTarget).val("");
      ev = $.Event("keyup");
      ev.keyCode = 13;
      $(e.currentTarget).trigger(ev);
      return e.currentTarget.blur();
    }
  });

}).call(this);
